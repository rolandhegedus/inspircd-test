<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>InspIRCd: EventHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InspIRCd
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_event_handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EventHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="socketengine_8h_source.html">socketengine.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EventHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_event_handler.png" usemap="#EventHandler_map" alt=""/>
  <map id="EventHandler_map" name="EventHandler_map">
<area href="classclassbase.html" alt="classbase" shape="rect" coords="202,0,327,24"/>
<area href="class_d_n_s.html" alt="DNS" shape="rect" coords="0,112,125,136"/>
<area href="class_listen_socket.html" alt="ListenSocket" shape="rect" coords="135,112,260,136"/>
<area href="class_stream_socket.html" alt="StreamSocket" shape="rect" coords="270,112,395,136"/>
<area href="class_thread_signal_socket.html" alt="ThreadSignalSocket" shape="rect" coords="405,112,530,136"/>
<area href="class_buffered_socket.html" alt="BufferedSocket" shape="rect" coords="202,168,327,192"/>
<area href="class_user_i_o_handler.html" alt="UserIOHandler" shape="rect" coords="337,168,462,192"/>
<area href="class_thread_signal_socket.html" alt="ThreadSignalSocket" shape="rect" coords="202,224,327,248"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01461cf54ecabda67089957430083414"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_event_handler.html#a01461cf54ecabda67089957430083414">GetFd</a> () const </td></tr>
<tr class="separator:a01461cf54ecabda67089957430083414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b7d55e236a74792bd74525d7faa724"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8b7d55e236a74792bd74525d7faa724"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GetEventMask</b> () const </td></tr>
<tr class="separator:ae8b7d55e236a74792bd74525d7faa724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0775c98015a7eb2b878c3cfcde8ce00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_event_handler.html#aa0775c98015a7eb2b878c3cfcde8ce00">SetFd</a> (int FD)</td></tr>
<tr class="separator:aa0775c98015a7eb2b878c3cfcde8ce00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe27b69582cce5c6a89a0b134bc8158"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_event_handler.html#a8fe27b69582cce5c6a89a0b134bc8158">EventHandler</a> ()</td></tr>
<tr class="separator:a8fe27b69582cce5c6a89a0b134bc8158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9578358998a3221402df5404ca2776d6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_event_handler.html#a9578358998a3221402df5404ca2776d6">~EventHandler</a> ()</td></tr>
<tr class="separator:a9578358998a3221402df5404ca2776d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9abe5d9ed81e42df0b3e911937ac3cc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_event_handler.html#ae9abe5d9ed81e42df0b3e911937ac3cc">HandleEvent</a> (EventType et, int errornum=0)=0</td></tr>
<tr class="separator:ae9abe5d9ed81e42df0b3e911937ac3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classclassbase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classclassbase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classclassbase.html">classbase</a></td></tr>
<tr class="memitem:a2a773ec2f42d047e0ce250553f44d831 inherit pub_methods_classclassbase"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_cull_result.html">CullResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclassbase.html#a2a773ec2f42d047e0ce250553f44d831">cull</a> ()</td></tr>
<tr class="separator:a2a773ec2f42d047e0ce250553f44d831 inherit pub_methods_classclassbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad7d91fcc846baef2153839382a1cbf9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_event_handler.html#ad7d91fcc846baef2153839382a1cbf9c">fd</a></td></tr>
<tr class="separator:ad7d91fcc846baef2153839382a1cbf9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aa52f57c67ff4fb26fb25de8766804d48"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa52f57c67ff4fb26fb25de8766804d48"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>SocketEngine</b></td></tr>
<tr class="separator:aa52f57c67ff4fb26fb25de8766804d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is a basic I/O handler class. Any object which wishes to receive basic I/O events from the socketengine must derive from this class and implement the <a class="el" href="class_event_handler.html#ae9abe5d9ed81e42df0b3e911937ac3cc">HandleEvent()</a> method. The derived class must then be added to <a class="el" href="class_socket_engine.html">SocketEngine</a> using the method <a class="el" href="class_socket_engine.html#a1723ed0fa1947e07361b93657a07bf56">SocketEngine::AddFd()</a>, after which point the derived class will receive events to its <a class="el" href="class_event_handler.html#ae9abe5d9ed81e42df0b3e911937ac3cc">HandleEvent()</a> method. The derived class should also implement one of Readable() and Writeable(). In the current implementation, only Readable() is used. If this returns true, the socketengine inserts a readable socket. If it is false, the socketengine inserts a writeable socket. The derived class should never change the value this function returns without first deleting the socket from the socket engine. The only requirement beyond this for an event handler is that it must have a file descriptor. What this file descriptor is actually attached to is completely up to you. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8fe27b69582cce5c6a89a0b134bc8158"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EventHandler::EventHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor </p>

</div>
</div>
<a class="anchor" id="a9578358998a3221402df5404ca2776d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual EventHandler::~EventHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a01461cf54ecabda67089957430083414"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int EventHandler::GetFd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the current file descriptor </p><dl class="section return"><dt>Returns</dt><dd>The file descriptor of this handler </dd></dl>

</div>
</div>
<a class="anchor" id="ae9abe5d9ed81e42df0b3e911937ac3cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EventHandler::HandleEvent </td>
          <td>(</td>
          <td class="paramtype">EventType&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errornum</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process an I/O event. You MUST implement this function in your derived class, and it will be called whenever read or write events are received. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">et</td><td>either one of EVENT_READ for read events, EVENT_WRITE for write events and EVENT_ERROR for error events. </td></tr>
    <tr><td class="paramname">errornum</td><td>The error code which goes with an EVENT_ERROR. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_d_n_s.html#ae4dd94b5780fdffabd72efd97e92f904">DNS</a>, <a class="el" href="class_listen_socket.html#aed322a461821b322a922f9537378d828">ListenSocket</a>, <a class="el" href="class_thread_signal_socket.html#a327de3514c0534c44410395bae96f4d5">ThreadSignalSocket</a>, and <a class="el" href="class_stream_socket.html#aac3a58aa5a6317a4027af9d2d08dba5f">StreamSocket</a>.</p>

</div>
</div>
<a class="anchor" id="aa0775c98015a7eb2b878c3cfcde8ce00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventHandler::SetFd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FD</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a new file desciptor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FD</td><td>The new file descriptor. Do not call this method without first deleting the object from the <a class="el" href="class_socket_engine.html">SocketEngine</a> if you have added it to a <a class="el" href="class_socket_engine.html">SocketEngine</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad7d91fcc846baef2153839382a1cbf9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int EventHandler::fd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>File descriptor. All events which can be handled must have a file descriptor. This allows you to add events for sockets, fifo's, pipes, and various other forms of IPC. Do not change this while the object is registered with the <a class="el" href="class_socket_engine.html">SocketEngine</a> </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="socketengine_8h_source.html">socketengine.h</a></li>
<li>src/socketengine.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
